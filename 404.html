<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // Only redirect if we haven't already tried to process this URL
    if (!sessionStorage.getItem('attempted404Redirect')) {
      // Mark that we've attempted a redirect
      sessionStorage.setItem('attempted404Redirect', 'true');
      
      // Get the current path
      const path = window.location.pathname;
      
      // Check if this looks like a vehicle URL
      if (path.includes('-') || /[A-Z0-9]{17}/.test(path)) {
        // Extract the car description and/or VIN without leading/trailing slashes
        const cleanPath = path.replace(/^\/+|\/+$/g, '');
        
        // Redirect to the vehicle page with clean path
        window.location.replace('/vehicle.html/' + cleanPath);
      } else {
        // Not a vehicle request, go to homepage
        window.location.replace('/');
      }
    } else {
      // We've already attempted a redirect, clear the flag and go to homepage
      sessionStorage.removeItem('attempted404Redirect');
      window.location.replace('/');
    }
  </script>
</head>
<body>
  <p>Redirecting...</p>
</body>
</html>